<!DOCTYPE html>
<html>

  <head>
    <link rel="stylesheet" type="text/css" href="jqm/jquery.mobile-min.css">
    <link rel="stylesheet" type="text/css" href="css/dist_main.less.css" class="main-less">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no">

    
    
    
    <script src="xdk/init-dev.js"></script>
    <script type="application/javascript" src="lib/jquery.min.js"></script>
    <script type="application/javascript" src="jqm/jquery.mobile-min.js" data-ver="0"></script>
      <script src="https://maps.googleapis.com/maps/api/js"></script>
<script>
     $(document).ready(function(){         
                    navigator.geolocation.getCurrentPosition(function(position){                        
                        var directionsService = new google.maps.DirectionsService;
      					var directionsDisplay = new google.maps.DirectionsRenderer;   
						
                    var mapProp = {center:new google.maps.LatLng(position.coords.latitude,position.coords.longitude), zoom:15, mapTypeId:google.maps.MapTypeId.ROADMAP};
                         
                    var map=new google.maps.Map(document.getElementById("googleMap"), mapProp);
                       //window.alert('working..');                        
                    //var marker=new google.maps.Marker({position:new google.maps.LatLng(position.coords.latitude,position.coords.longitude),icon:image});
                    //marker.setMap(map);
					directionsDisplay.setMap(map);
                       
					directionsService.route({
          origin: new google.maps.LatLng(position.coords.latitude,position.coords.longitude),
          destination: new google.maps.LatLng(17.443276,78.354400),
          travelMode: google.maps.TravelMode.DRIVING
        }, function(response, status) {
                        
          if (status === google.maps.DirectionsStatus.OK) {
            directionsDisplay.setDirections(response);
          } else {
            window.alert('Directions request failed due to ' + status);
          }
        });       
                    }, function(error){
                        if(error.code == PositionError.PERMISSION_DENIED)
                        {
                            alert("App doesn't have permission to use GPS");
                        }
                        else if(error.code == PositionError.POSITION_UNAVAILABLE)
                        {
                            alert("No GPS device found");
                        }
                        else if(error.code == PositionError.TIMEOUT)
                        {
                            alert("Its taking too long find user location");
                        }
                        else
                        {
                            alert("An unknown error occured");
                        }
                    }, { maximumAge: 3000, timeout: 50000, enableHighAccuracy: true });
                }, false);
    </script>
    
    <script type="application/javascript" src="js/dist_user_scripts.js"></script>
    <script type="application/javascript" src="xdk/ad/jqm_subpage.js"></script>
  </head>

  <body>
    <div class="upage" id="mainpage" data-role="page">
      <div class="upage-outer">
        <div data-role="header" class="container-group inner-element uib_w_1" data-uib="jquery_mobile/header" data-ver="0">
          <h1>Technician Started...</h1>
          <div class="widget-container wrapping-col single-centered"></div>
          <div class="widget-container content-area horiz-area wrapping-col left"></div>
          <div class="widget-container content-area horiz-area wrapping-col right"></div>
        </div>
        <div id="googleMap" style="width:100%;height:450px;"></div>
        <div class="upage-content ac0 content-area vertical-col left" id="page_40_24"><a class="widget uib_w_2 d-margins" data-uib="jquery_mobile/button" data-ver="0" data-role="button" id="btnback">Back</a>
          <a class="widget uib_w_3 d-margins" data-uib="jquery_mobile/button" data-ver="0" data-role="button" id="btnexit">Exit</a>
        </div>
      </div>
      <!--<div class="upage-content ac0 content-area vertical-col" id="page_66_26">-->

      <!--</div>-->
    </div>
  </body>

</html>